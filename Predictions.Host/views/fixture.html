<h4 ng-if="model.resultSubmitted">{{model.fixture.home}} {{model.result.home}} - {{model.result.away}} {{model.fixture.away}}</h4>
<h4 ng-if="!model.resultSubmitted">{{model.fixture.home}} v {{model.fixture.away}}</h4>

<p>
    <span class="label label-default">GW#{{model.fixture.gameWeekNumber}}</span>
    <span class="label label-default">{{ model.fixture.kickoff | date:'EEE dd MMM HH:mm' }}</span>
</p>

<p ng-if="!model.resultSubmitted">
    <i>Awaiting Result</i>
</p>

<div class="panel panel-default">
    <div class="panel-heading">
        Aggregated Predictions
    </div>
    <div class="panel-body">
        <canvas class="chart chart-doughnut" height="80" data="data" legend="right" labels="labels" options="options"></canvas>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        Form Guide
    </div>
    <div class="panel-body">
        <table class="table table-condensed">
            <tr ng-repeat="row in formGuide.rows">
                <td>{{row.homeFixture.home}}</td>
                <td>{{row.homeResult.home}} - {{row.homeResult.away}}</td>
                <td>{{row.homeFixture.away}}</td>
                <td><fixtureformguide guide="row.homeOutcome" /></td>
                <td></td>
                <td><fixtureformguide guide="row.awayOutcome" /></td>
                <td>{{row.awayFixture.home}}</td>
                <td>{{row.awayResult.home}} - {{row.awayResult.away}}</td>
                <td>{{row.awayFixture.away}}</td>
            </tr>
        </table>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        Previous Meetings
    </div>
    <div class="panel-body">
        <tabset>
            <tab heading="This Fixture">
                <table class="table table-no-top-border">
                    <tbody>
                        <tr ng-repeat="row in previousMeetings.thisFixtureRows" previousmeetingrow="row"></tr>
                    </tbody>
                </table>
            </tab>
            <tab heading="Reverse Fxiture">
                <table class="table table-no-top-border">
                    <tbody>
                        <tr ng-repeat="row in previousMeetings.reverseFixtureRows" previousmeetingrow="row"></tr>
                    </tbody>
                </table>
            </tab>
            <tab heading="All">
                <table class="table table-no-top-border">
                    <tbody>
                        <tr ng-repeat="row in previousMeetings.rows" previousmeetingrow="row"></tr>
                    </tbody>
                </table>
            </tab>
        </tabset>
    </div>
</div>


<div ng-if="model.fixture.isOpen">
    <submitscore row="model.openFixturesViewModelRow" post-url="/api/prediction"></submitscore>
</div>
