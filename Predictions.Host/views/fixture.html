<h4>
    <span class="text-uppercase">
        {{model.fixture.home.full}}
    </span>
    <span>v</span>
    <span class="text-uppercase">
        {{model.fixture.away.full}}
    </span>
</h4>

<p>
    <span class="label label-primary">GW#{{model.fixture.gameWeekNumber}}</span>
    <span class="label label-primary">{{ model.fixture.kickoff | date:'EEE dd MMM HH:mm' }}</span>
    <span class="label label-primary" ng-if="model.resultSubmitted">{{model.result.home}} - {{model.result.away}}</span>
</p>

<div class="panel panel-default">
    <div class="panel-heading">
        Aggregated Predictions
    </div>
    <div class="panel-body">
        <canvas class="chart chart-doughnut" height="80" data="data" legend="right" labels="labels" options="options"></canvas>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        {{model.fixture.home.full}} Form
    </div>
    <div class="panel-body alert-info" ng-if="formGuide.homeRows.length == 0">
        <span class="glyphicon glyphicon-info-sign"></span>
        Form guide shown as results accumulate!
    </div>
    <table class="table">
        <tr ng-repeat="row in formGuide.homeRows">
            <td class="cell-15">
                <span class="label label-primary">GW#{{row.fixture.gameWeekNumber}}</span>
            </td>
            <td class="cell-25 text-right">
                <span class="text-uppercase">
                    <teamname team="row.fixture.home"></teamname>
                </span>
            </td>
            <td class="cell-20 text-center">
                {{row.result.home}} - {{row.result.away}}
            </td>
            <td class="cell-25">
                <span class="text-uppercase">
                    <teamname team="row.fixture.away"></teamname>
                </span>
            </td>
            <td class="cell-15 text-right">
                <fixtureformguide guide="row.outcome" />
            </td>
        </tr>
    </table>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        {{model.fixture.away.full}} Form
    </div>
    <div class="panel-body bg-info alert-info" ng-if="formGuide.awayRows.length == 0">
        <span class="glyphicon glyphicon-info-sign"></span>
        Form guide shown as results accumulate!
    </div>
    <table class="table">
        <tr ng-repeat="row in formGuide.awayRows">
            <td class="cell-15">
                <span class="label label-primary">GW#{{row.fixture.gameWeekNumber}}</span>
            </td>
            <td class="cell-25 text-right">
                <span class="text-uppercase">
                    <teamname team="row.fixture.home"></teamname>
                </span>
            </td>
            <td class="cell-20 text-center">
                {{row.result.home}} - {{row.result.away}}
            </td>
            <td class="cell-25">
                <span class="text-uppercase">
                    <teamname team="row.fixture.away"></teamname>
                </span>
            </td>
            <td class="cell-15 text-right">
                <fixtureformguide guide="row.outcome" />
            </td>
        </tr>
    </table>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <div class="checkbox pull-right" style="margin-top:0">
            <label class="text-muted" style="font-weight: normal">
                <input type="checkbox" ng-model="previousMeetings.showAll" ng-click="rebindFixtureHistory()"> All Fixtures
            </label>
        </div>
        Fixture History
    </div>
    <table class="table table-no-top-border">
        <tbody>
            <tr ng-repeat="row in previousMeetings.rows" previousmeetingrow="row"></tr>
        </tbody>
    </table>
</div>

<div ng-if="model.fixture.isOpen">
    <submitscore row="model.openFixturesViewModelRow" post-url="/api/prediction"></submitscore>
</div>

<div neighbours="neighbours" url="#/fixture/"></div>
